# Logging.
[logging]
  level="info"

# PostgreSQL configuration.
[postgresql]
  # We use the STATIC IP (172.28.0.2) to bypass DNS lookup failures.
  dsn="postgres://chirpstack:chirpstack@172.28.0.2/chirpstack?sslmode=disable"

  max_open_connections=10
  min_idle_connections=0

# Redis configuration.
[redis]
  # UPDATED: Replaced $REDIS_HOST with the static IP 172.28.0.3
  servers=[
    "redis://172.28.0.3/",
  ]

  tls_enabled=false
  cluster=false

# Network related configuration.
[network]
  net_id="000000"

  enabled_regions=[
    "as923",
    "as923_2",
    "as923_3",
    "as923_4",
    "au915_0",
    "cn470_10",
    "cn779",
    "eu433",
    "eu868",
    "in865",
    "ism2400",
    "kr920",
    "ru864",
    "us915_0",
    "us915_1",
  ]

# API interface configuration.
[api]
  bind="0.0.0.0:8080"
  
  # Note: Ideally, generate a new secret using 'openssl rand -base64 32'
  secret="you-must-replace-this"

[integration]
  enabled=["mqtt"]

  [integration.mqtt]
    # UPDATED: Replaced $MQTT_BROKER_HOST with the static IP 172.28.0.4
    server="tcp://172.28.0.4:1883/"
    json=true
